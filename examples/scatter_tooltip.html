

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Scatter Plot With Tooltips &mdash; MPLD3: Bringing Matplotlib to the Browser</title>
    
    <link rel="stylesheet" href="../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/theme_extras.js"></script>
    <link rel="top" title="MPLD3: Bringing Matplotlib to the Browser" href="../index.html" />
    <link rel="up" title="Example Gallery" href="index.html" />
    <link rel="next" title="Draw an Image" href="show_image.html" />
    <link rel="prev" title="Visualizing Random Walks" href="random_walk.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../index.html">
          <span>MPLD3: Bringing Matplotlib to the Browser</span></a></h1>
        <h2 class="heading"><span>Scatter Plot With Tooltips</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="random_walk.html">Visualizing Random Walks</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="show_image.html">Draw an Image</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="scatter-plot-with-tooltips">
<span id="scatter-tooltip"></span><h1>Scatter Plot With Tooltips<a class="headerlink" href="#scatter-plot-with-tooltips" title="Permalink to this headline">¶</a></h1>
<p>A scatter-plot with tooltip labels on hover</p>
    <style>


    div#figure132beae69c8f4a148dc54fedce2ba70f
    .axesbg{
        fill: #EEEEEE;
    }



div#figure132beae69c8f4a148dc54fedce2ba70f
.axis line, .axis path {
    shape-rendering: crispEdges;
    stroke: black;
    fill: none;
}

div#figure132beae69c8f4a148dc54fedce2ba70f
.axis text {
    font-family: sans-serif;
    font-size: 12.0px;
    fill: black;
    stroke: none;
}



div#figure132beae69c8f4a148dc54fedce2ba70f
.axis line, .axis path {
    shape-rendering: crispEdges;
    stroke: black;
    fill: none;
}

div#figure132beae69c8f4a148dc54fedce2ba70f
.axis text {
    font-family: sans-serif;
    font-size: 12.0px;
    fill: black;
    stroke: none;
}



div#figure132beae69c8f4a148dc54fedce2ba70f
.grid .tick {
  stroke: #FFFFFF;
  stroke-dasharray: 10,0;
  stroke-opacity: 1.0;
}

div#figure132beae69c8f4a148dc54fedce2ba70f
.grid path {
  stroke-width: 0;
}



div#figure132beae69c8f4a148dc54fedce2ba70f
.grid .tick {
  stroke: #FFFFFF;
  stroke-dasharray: 10,0;
  stroke-opacity: 1.0;
}

div#figure132beae69c8f4a148dc54fedce2ba70f
.grid path {
  stroke-width: 0;
}





div#figure132beae69c8f4a148dc54fedce2ba70f
text.textaabb4c43846e4629904e66e180134fa4 {
   font-size : 12.0px;
   fill : #000000;
   opacity : 1;
}



div#figure132beae69c8f4a148dc54fedce2ba70f
text.textd842e7d11d534a219a065b0ca02ebc31 {
   font-size : 12.0px;
   fill : #000000;
   opacity : 1;
}



div#figure132beae69c8f4a148dc54fedce2ba70f
text.textacae23cc951f455fbff0c544de7e8c8e {
   font-size : 20.0px;
   fill : #000000;
   opacity : 1;
}





    </style>



    <div id='figure132beae69c8f4a148dc54fedce2ba70f'>
    </div>
    <script type="text/javascript">
    var create_fig132beae69c8f4a148dc54fedce2ba70f = function(d3, undefined){


    function Figure(figid, width, height){
      this.figid = figid;
      this.root = d3.select(figid);
      this.width = width;
      this.height = height;
      this.axes = [];
    }

    Figure.prototype.draw = function(){
      this.canvas = this.root.append('svg:svg')
                                 .attr('class', 'figure')
                                 .attr('width', this.width)
                                 .attr('height', this.height);
      for (var i=0; i<this.axes.length; i++){
        this.axes[i].draw();
      }
    };

    Figure.prototype.reset = function(duration){
      duration = (typeof duration !== 'undefined') ? duration : 750;
      for (var i=0; i<this.axes.length; i++){
        this.axes[i].prep_reset();
      }

      var transition = function(t){
        for (var i=0; i<this.axes.length; i++){
          this.axes[i].xdom(this.axes[i].xdom.domain(this.axes[i].ix(t)));
          this.axes[i].ydom(this.axes[i].ydom.domain(this.axes[i].iy(t)));

          // don't propagate: this will be done as part of the loop.
          this.axes[i].zoomed(false);
        }
      }.bind(this)

      d3.transition().duration(duration)
                     .tween("zoom", function(){return transition;});

      for (var i=0; i<this.axes.length; i++){
        this.axes[i].finalize_reset();
      }
    };



    function Axes(fig, bbox,
                  xlim, ylim,
                  xscale, yscale,
                  xdomain, ydomain,
                  xgridOn, ygridOn,
                  axclass, clipid,
                  zoomable){
      this.axnum = fig.axes.length;
      fig.axes.push(this);

      this.fig = fig;
      this.bbox = bbox;
      this.xlim = xlim;
      this.ylim = ylim;
      this.xdomain = xdomain;
      this.ydomain = ydomain;
      this.xscale = xscale;
      this.yscale = yscale;
      this.xgridOn = xgridOn;
      this.ygridOn = ygridOn;
      this.axclass = (typeof axclass !== 'undefined') ? axclass : "axes";
      this.clipid = (typeof clipid != 'undefined') ? clipid : "clip";
      this.zoomable = zoomable;

      this.sharex = [];
      this.sharey = [];
      this.elements = [];

      this.position = [this.bbox[0] * this.fig.width,
                       (1 - this.bbox[1] - this.bbox[3]) * this.fig.height];
      this.width = bbox[2] * this.fig.width;
      this.height = bbox[3] * this.fig.height;

      if(this.xscale === 'log'){
        this.xdom = d3.scale.log();
      }else if(this.xscale === 'date'){
        this.xdom = d3.time.scale();
      }else{
        this.xdom = d3.scale.linear();
      }

      if(this.yscale === 'log'){
        this.ydom = d3.scale.log();
      }else if(this.yscale === 'date'){
        this.ydom = d3.time.scale();
      }else{
        this.ydom = d3.scale.linear();
      }

      this.xdom.domain(this.xdomain)
            .range([0, this.width]);

      this.ydom.domain(this.ydomain)
            .range([this.height, 0]);

      if(this.xscale === 'date'){
         this.xmap = d3.time.scale()
                           .domain(this.xdomain)
                           .range(this.xlim);
         this.x = function(x){return this.xdom(this.xmap.invert(x));}
      }else if(this.xscale === 'log'){
         this.xmap = this.xdom;
         this.x = this.xdom;
      }else{
         this.xmap = this.xdom;
         this.x = this.xdom;
      }

      if(this.yscale === 'date'){
         this.ymap = d3.time.scale()
                              .domain(this.ydomain)
                              .range(this.ylim);
         this.y = function(y){return this.ydom(this.ymap.invert(y));}
      }else if(this.xscale === 'log'){
         this.ymap = this.ydom;
         this.y = this.ydom;
      }else{
         this.ymap = this.ydom;
         this.y = this.ydom;
      }
    }

    Axes.prototype.draw = function(){
      this.zoom = d3.behavior.zoom()
                          .x(this.xdom)
                          .y(this.ydom)
                          .on("zoom", this.zoomed.bind(this));

      this.baseaxes = this.fig.canvas.append("g")
                             .attr('transform', 'translate('
                                                 + this.position[0] + ','
                                                 + this.position[1] + ')')
                             .attr('width', this.width)
                             .attr('height', this.height)
                             .attr('class', "baseaxes");

      if(this.zoomable){
        this.baseaxes.call(this.zoom);
      }

      this.axesbg = this.baseaxes.append("svg:rect")
                             .attr("width", this.width)
                             .attr("height", this.height)
                             .attr("class", "axesbg");

      this.clip = this.baseaxes.append("svg:clipPath")
                          .attr("id", this.clipid)
                          .append("svg:rect")
                             .attr("x", 0)
                             .attr("y", 0)
                             .attr("width", this.width)
                             .attr("height", this.height)

      this.axes = this.baseaxes.append("g")
                           .attr("class", this.axclass)
                           .attr("clip-path", "url(#" + this.clipid + ")");

      for(var i=0; i<this.elements.length; i++){
        this.elements[i].draw();
      }
    };

    Axes.prototype.zoomed = function(propagate){
      // propagate is a boolean specifying whether to propagate movements
      // to shared axes, specified by sharex and sharey.  Default is true.
      propagate = (typeof propagate == 'undefined') ? true : propagate;

      //console.log(this.zoom.translate());
      //console.log(this.zoom.scale());
      //console.log(this.zoom.x().domain());
      //console.log(this.zoom.y().domain());

      for(var i=0; i<this.elements.length; i++){
        this.elements[i].zoomed();
      }

      t = this.zoom.translate();
      s = this.zoom.scale();
      if(propagate){
        // update shared y axes
        for(var i=0; i<this.sharey.length; i++){
          ti = this.sharey[i].zoom.translate();
          this.sharey[i].zoom.translate([ti[0], t[1]]);
          this.sharey[i].zoom.scale(s);
        }
        // update shared x axes
        for(var i=0; i<this.sharex.length; i++){
          ti = this.sharex[i].zoom.translate();
          this.sharex[i].zoom.translate([t[0], ti[1]]);
          this.sharex[i].zoom.scale(s);
        }
        // render updates to shared x axes
        for(var i=0; i<this.sharey.length; i++){
          this.sharey[i].zoomed(false);
        }
        // render updates to shared y axes
        for(var i=0; i<this.sharex.length; i++){
          this.sharex[i].zoomed(false);
        }
      }
    };

    Axes.prototype.add_element = function(element){
      this.elements.push(element);
    };

    Axes.prototype.prep_reset = function(){
      // interpolate() does not work on dates, so we map dates to numbers,
      // interpolate the numbers, and then invert the map.
      // we use the same strategy for log, so the interpolation will be smooth.
      // There probably is a cleaner approach...

      if (this.xscale === 'date'){
        var start = this.xdom.domain();
        var end = this.xdomain;
        var interp = d3.interpolate(
                [this.xmap(start[0]), this.xmap(start[1])],
                [this.xmap(end[0]), this.xmap(end[1])]);
        this.ix = function(t){
          return [this.xmap.invert(interp(t)[0]),
                  this.xmap.invert(interp(t)[1])];
        }
      }else{
        this.ix = d3.interpolate(this.xdom.domain(), this.xlim);
      }

      if (this.yscale === 'date'){
        var start = this.ydom.domain();
        var end = this.ydomain;
        var interp = d3.interpolate(
                [this.ymap(start[0]), this.ymap(start[1])],
                [this.ymap(end[0]), this.ymap(end[1])]);
        this.iy = function(t){
          return [this.ymap.invert(interp(t)[0]),
                  this.ymap.invert(interp(t)[1])];
        }
      }else{
        this.iy = d3.interpolate(this.ydom.domain(), this.ylim);
      }
    }

    Axes.prototype.finalize_reset = function(){
      this.zoom.scale(1).translate([0, 0]);
    }

    Axes.prototype.reset = function(){
      this.prep_reset();
      d3.transition().duration(750).tween("zoom", function() {
        return function(t) {
          this.zoom.x(this.xdom.domain(this.ix(t)))
                   .y(this.ydom.domain(this.iy(t)));
          this.zoomed();
        };
      });
      this.finalize_reset();
    };



    function Axis(axes, position, nticks, tickvalues, tickformat){
      this.axes = axes;
      this.position = position;
      this.nticks = nticks;
      this.tickvalues = tickvalues;
      this.tickformat = tickformat;
      if (position == "bottom"){
        this.transform = "translate(0," + this.axes.height + ")";
        this.scale = this.axes.xdom;
        this.class = "x axis";
      }else if (position == "top"){
        this.transform = "translate(0,0)"
        this.scale = this.axes.xdom;
        this.class = "x axis";
      }else if (position == "left"){
        this.transform = "translate(0,0)";
        this.scale = this.axes.ydom;
        this.class = "y axis";
      }else{
        this.transform = "translate(" + this.axes.width + ",0)";
        this.scale = this.axes.ydom;
        this.class = "y axis";
      }
    }

    Axis.prototype.draw = function(){
      this.axis = d3.svg.axis()
                          .scale(this.scale)
                          .orient(this.position)
                          .ticks(this.nticks)
                          .tickValues(this.tickvalues)
                          .tickFormat(this.tickformat);
      this.elem = this.axes.baseaxes.append('g')
                        .attr("transform", this.transform)
                        .attr("class", this.class)
                        .call(this.axis);
    };

    Axis.prototype.zoomed = function(){
      this.elem.call(this.axis);
    };



    function Grid(axes, xy){
      this.axes = axes;
      this.class = xy + " grid"
      if(xy == "x"){
        this.transform = "translate(0," + this.axes.height + ")";
        this.position = "bottom";
        this.scale = this.axes.xdom;
        this.tickSize = -this.axes.height;
      }else{
        this.transform = "translate(0,0)";
        this.position = "left";
        this.scale = this.axes.ydom;
        this.tickSize = -this.axes.width;
      }
    }

    Grid.prototype.draw = function(){
      this.grid = d3.svg.axis()
                          .scale(this.scale)
                          .orient(this.position)
                          .tickSize(this.tickSize, 0, 0)
                          .tickFormat("");
      this.elem = this.axes.axes.append("g")
                          .attr("class", this.class)
                          .attr("transform", this.transform)
                          .call(this.grid);
    };

    Grid.prototype.zoomed = function(){
      this.elem.call(this.grid);
    };



    // This function constructs a mapped SVG path
    // from an input data array
    var construct_SVG_path = function(data, xmap, ymap){
       xmap = (typeof xmap !== 'undefined') ? xmap : function(x){return x;};
       ymap = (typeof ymap !== 'undefined') ? ymap : function(y){return y;};
       var result = "";
       for (var i=0;i<data.length;i++){
          result += data[i][0];
          if(data[i][0] == 'Z'){
            continue;
          }
          for (var j=0;j<data[i][1].length;j++){
            if(j % 2 == 0){
               result += " " + xmap(data[i][1][j]);
            }else{
               result += " " + ymap(data[i][1][j]);
            }
          }
          result += " ";
       }
       return result;
     };


      var figwidth = 8.0 * 80;
      var figheight = 6.0 * 80;
      var fig = new Figure("div#figure132beae69c8f4a148dc54fedce2ba70f",
                           figwidth, figheight);



    var ax1 = new Axes(fig, [0.125, 0.099999999999999978, 0.77500000000000002, 0.80000000000000004], [-3.0, 3.0], [-3.0, 3.0],
                               "linear", "linear",
                               [-3.0, 3.0], [-3.0, 3.0],
                               true, true,
                               "axes1",
                               "clip132beae69c8f4a148dc54fedce2ba70f1", true);



// Add an Axis element
ax1.add_element(new Axis(ax1, "bottom",
                                 7, null,
                                 null));



// Add an Axis element
ax1.add_element(new Axis(ax1, "left",
                                 7, null,
                                 null));



// Add a Grid element
ax1.add_element(new Grid(ax1, "x"));



// Add a Grid element
ax1.add_element(new Grid(ax1, "y"));



// Add a Collection
var coll07156de68da646fc87b8a8c895e1f5b2 = new function(){
  this.ax = ax1;
  this.data = [{"s": 23.284595531370272, "fc": "#9A0000", "o": [-1.363544010454631, 0.09816224345928168]}, {"s": 30.437282855559506, "fc": "#0050FF", "o": [-0.858530945152944, -1.1744224422436123]}, {"s": 5.4169523794847585, "fc": "#FFDA00", "o": [-0.8065607745013283, -0.5514314180709903]}, {"s": 21.852070098472765, "fc": "#63FF93", "o": [-1.1741236291905046, -0.35007302807290425]}, {"s": 24.269434150481558, "fc": "#FFAE00", "o": [-0.9480458444663584, 0.7157834832427298]}, {"s": 13.714875472695692, "fc": "#0000DE", "o": [1.4351258913042257, 0.1586675489389538]}, {"s": 22.627422093487581, "fc": "#AC0000", "o": [0.39120901217326487, -0.16761007899150177]}, {"s": 33.526803098441007, "fc": "#0044FF", "o": [1.3308276503388057, -1.5922158847855856]}, {"s": 24.053290224232072, "fc": "#0054FF", "o": [-0.9888421037221284, 0.2704105592062632]}, {"s": 17.630507286549356, "fc": "#A6FF4F", "o": [-0.4313032376956794, 0.5291992449175446]}, {"s": 25.635986016758789, "fc": "#00DCFE", "o": [-1.737049554446876, 2.1981124961853724]}, {"s": 8.6668400683420685, "fc": "#46FFB0", "o": [-1.1904557322929719, 0.4463334359795243]}, {"s": 19.060285864569398, "fc": "#000096", "o": [-0.29111314769557883, 0.9241106957635746]}, {"s": 31.103902769892656, "fc": "#0064FF", "o": [-0.42060635287266646, 0.9336605439721427]}, {"s": 28.151140806352359, "fc": "#FF7E00", "o": [1.7773537755210145, -1.8127021751499166]}, {"s": 5.4415924035214207, "fc": "#E80000", "o": [0.10804657347187041, -0.12461801725822107]}, {"s": 26.524528566694798, "fc": "#0064FF", "o": [-0.26509988374247306, -0.16964534184247834]}, {"s": 16.380509362263808, "fc": "#FF7E00", "o": [0.45946259207941603, -0.4599695250050315]}, {"s": 34.707771496561151, "fc": "#00008D", "o": [0.026878552742392616, 0.8565337952186948]}, {"s": 31.104900088219065, "fc": "#00009F", "o": [-1.0857035365978491, 1.626720776302838]}, {"s": 12.566273656675243, "fc": "#1FFFD7", "o": [-0.6268877439627492, -0.9244696239819247]}, {"s": 21.817019001795014, "fc": "#0008FF", "o": [1.398956882627307, -0.1559941952968717]}, {"s": 24.594730729068694, "fc": "#001CFF", "o": [1.3037877009643817, 0.4249975137707832]}, {"s": 15.005007962044488, "fc": "#E4FF12", "o": [0.25723531833617574, -0.7795514073297668]}, {"s": 29.487052054151256, "fc": "#FF2800", "o": [1.0194852316393146, -2.11653617655955]}, {"s": 32.229477349290242, "fc": "#FF7600", "o": [1.6428092343923126, -0.21506302571862082]}, {"s": 2.3477321312184589, "fc": "#00D0FF", "o": [-0.44172571221774953, -1.104090709322169]}, {"s": 12.824715150249148, "fc": "#FF1A00", "o": [0.18431483979862612, -1.9384589545584345]}, {"s": 18.707060763593624, "fc": "#FF3B00", "o": [0.221090902956591, 0.901897030868351]}, {"s": 34.856145775734277, "fc": "#8DFF69", "o": [-0.8268135316929666, 1.6354812902815936]}, {"s": 22.347642693376443, "fc": "#63FF93", "o": [0.4464316280745284, 0.5289262473107065]}, {"s": 14.497848413218362, "fc": "#0000B1", "o": [-1.1436780190419749, 0.41596392711637764]}, {"s": 12.218540757271393, "fc": "#000CFF", "o": [0.10225998517157352, 0.4340830146473118]}, {"s": 33.358438021981286, "fc": "#0000D1", "o": [-0.2689138918396052, -0.07760796518294945]}, {"s": 31.627540827858905, "fc": "#90FF66", "o": [0.4295471169127261, 0.44916899178032776]}, {"s": 27.650834544285814, "fc": "#FFDA00", "o": [-1.3548612134830271, -0.13130190748240836]}, {"s": 25.812611930092032, "fc": "#DDFF18", "o": [-0.5210994753938543, -0.7509349820524425]}, {"s": 30.974975194648568, "fc": "#FF1D00", "o": [1.8831641466331788, 1.27765178536808]}, {"s": 19.818638761282436, "fc": "#FEED00", "o": [-0.13484605089366675, 0.748761552370252]}, {"s": 28.105942808632033, "fc": "#FF4600", "o": [0.06814415817952207, 2.6572730491141754]}, {"s": 30.160996835541432, "fc": "#0000FF", "o": [-0.6695713849281263, -0.8186072750797138]}, {"s": 26.658534089612083, "fc": "#0020FF", "o": [0.04537092683674632, -1.4451511612028236]}, {"s": 14.432984919474222, "fc": "#D50000", "o": [0.3797713865389971, 1.3417631912731982]}, {"s": 34.887912166106716, "fc": "#00E0FA", "o": [-0.47556398217502155, -0.10518955552391411]}, {"s": 31.646105639050422, "fc": "#0050FF", "o": [-0.24949630037917458, 1.3567872450534693]}, {"s": 24.611222554051675, "fc": "#DA0000", "o": [-0.16645972668369233, 2.014014092532142]}, {"s": 27.665778111157209, "fc": "#960000", "o": [0.2957374388461356, -1.372629648387735]}, {"s": 30.632750783663791, "fc": "#EDFF08", "o": [1.1305173352117452, -0.8574284009369552]}, {"s": 23.794002347816775, "fc": "#18FFDD", "o": [-0.669325698657654, -1.6812884503233294]}, {"s": 30.207435207629754, "fc": "#FFCF00", "o": [0.8059806605109513, -0.15059865418995214]}, {"s": 30.890645390374839, "fc": "#00007F", "o": [0.8046057241154726, -0.7210639967808063]}, {"s": 23.804953046242566, "fc": "#0004FF", "o": [0.25483234534293836, -1.9408824281905628]}, {"s": 15.225390092991509, "fc": "#08F0ED", "o": [1.0816517526446843, 0.09990505958835168]}, {"s": 27.165861808258107, "fc": "#FF4200", "o": [0.0990683630820022, 1.2818364449277098]}, {"s": 26.159266216736874, "fc": "#00ACFF", "o": [0.10781628703747095, -0.9700794014053391]}, {"s": 24.857462446579298, "fc": "#0000B1", "o": [-0.17355244904190487, 1.245376549440333]}, {"s": 8.5043215719786485, "fc": "#12FCE4", "o": [-0.2703637915368669, 0.6968713741003972]}, {"s": 30.983133490689731, "fc": "#006CFF", "o": [-0.21049814902635644, -0.06455201895753389]}, {"s": 25.788988308610058, "fc": "#0000AC", "o": [-1.860821173997107, -1.0578403249801036]}, {"s": 23.057937019399631, "fc": "#22FFD4", "o": [0.600273654786764, -0.46922227630417745]}, {"s": 31.718130122268544, "fc": "#00E0FA", "o": [-0.3222564029992112, 2.128395482538144]}, {"s": 15.590622817288176, "fc": "#FFA300", "o": [-1.4688658766866547, -0.38924079480423507]}, {"s": 18.314177134484236, "fc": "#0000B6", "o": [0.9703219872252618, 0.5696129372942311]}, {"s": 28.103139926754292, "fc": "#12FCE4", "o": [-0.9755422379377542, -0.27429946342163036]}, {"s": 21.944318911085851, "fc": "#00D4FF", "o": [0.859492135848682, -1.098416857661531]}, {"s": 19.343205946880271, "fc": "#F4F802", "o": [-0.7415559723866658, 0.6897208619605294]}, {"s": 17.729654836436048, "fc": "#FA0F00", "o": [0.9588875887899703, 1.6492482418776502]}, {"s": 24.488112174183712, "fc": "#0004FF", "o": [1.8989210228764966, 1.0651326411898605]}, {"s": 30.942736284411371, "fc": "#FF5100", "o": [-1.5950626401298995, 1.6090449758864793]}, {"s": 31.53140621347972, "fc": "#D4FF22", "o": [-0.25496220842011824, 0.14301667429456055]}, {"s": 31.241190376726976, "fc": "#00008D", "o": [0.9568085535656985, -0.002557095205001199]}, {"s": 33.066436130357232, "fc": "#FF8100", "o": [0.2796890697140307, 0.5276804771962433]}, {"s": 7.9148111384486306, "fc": "#96FF5F", "o": [0.28169651332344753, -0.22262125908943045]}, {"s": 34.822599088757151, "fc": "#FF6400", "o": [0.9156034382368172, -0.49148501998831606]}, {"s": 22.945493432803126, "fc": "#2CFFCA", "o": [-0.7888602568316244, -1.593839508519545]}, {"s": 15.435333361558598, "fc": "#FFE500", "o": [-1.2830469592851959, 1.0183730960488082]}, {"s": 34.605765297301126, "fc": "#0040FF", "o": [-0.7138098179196208, 0.04968521593657181]}, {"s": 31.917763212497384, "fc": "#0038FF", "o": [1.3335521621534268, -1.6018487535878922]}, {"s": 33.879298322055568, "fc": "#00D4FF", "o": [-0.7639064506388854, -1.8184107066142372]}, {"s": 25.413948871178366, "fc": "#89FF6C", "o": [-1.534958100371853, 1.7716566677923826]}, {"s": 30.383187554056192, "fc": "#FFB500", "o": [1.1567810014742463, 1.0756032832132407]}, {"s": 25.324170803440566, "fc": "#FFE500", "o": [-0.5121814114444011, 0.38340280074718575]}, {"s": 25.806739329658782, "fc": "#FF4D00", "o": [-0.44900875861009637, -1.46699745995316]}, {"s": 34.27378806975765, "fc": "#39FFBD", "o": [-1.3938723556292718, -0.264781762781015]}, {"s": 30.191916660869861, "fc": "#DA0000", "o": [0.5303887363061818, -1.0320790120116095]}, {"s": 26.452328583057493, "fc": "#0000EC", "o": [0.5679660232045155, -0.364435080540589]}, {"s": 22.019499339239982, "fc": "#0034FF", "o": [-0.550455855856248, -0.21687421093048462]}, {"s": 14.243371367728436, "fc": "#FFD300", "o": [-1.1937324518522674, -0.7252820469086563]}, {"s": 11.953116984647274, "fc": "#0078FF", "o": [-1.8921000179007488, -1.3937694505355664]}, {"s": 19.234297605220732, "fc": "#001CFF", "o": [0.5680582929035042, 0.7387053177945938]}, {"s": 29.245751937955877, "fc": "#FA0F00", "o": [2.596495281153555, 0.24934693561308466]}, {"s": 15.378059517558366, "fc": "#0000BA", "o": [0.40432291115965197, 0.5485517784032251]}, {"s": 12.739659888026846, "fc": "#7F0000", "o": [0.6083219326593531, 1.1348981993525427]}, {"s": 9.7977937156910198, "fc": "#FF2500", "o": [0.1465612178195722, 1.1029474030487232]}, {"s": 32.322628622023217, "fc": "#FF2100", "o": [0.3495766044131568, 1.6632302337974796]}, {"s": 17.255874711238604, "fc": "#E4FF12", "o": [-0.2330164573599614, 0.9258661960884993]}, {"s": 15.746857969404061, "fc": "#0058FF", "o": [0.2941886439334482, 0.4591159461848912]}, {"s": 21.966693865339536, "fc": "#FF6400", "o": [-0.8010068495784445, -0.41234544828986397]}, {"s": 27.877292863364389, "fc": "#0000AC", "o": [-1.240693282327165, -1.2897313485426964]}, {"s": 26.903112795133165, "fc": "#BDFF39", "o": [0.11123865778757107, 0.5902590078870354]}];

  this.offset_func = function(d){
     var offset = d.o ? d.o : [[0, 0]];

       offset = [this.ax.x(offset[0]), this.ax.y(offset[1])];

     return "translate(" + offset  + ")";
  };

  this.path_func = function(d){
     var path = d.p ? d.p : [["M", [0.0, 0.5]], ["C", [0.13260155, 0.5, 0.25978993539242673, 0.44731684579412084, 0.3535533905932738, 0.3535533905932738]], ["C", [0.44731684579412084, 0.25978993539242673, 0.5, 0.13260155, 0.5, 0.0]], ["C", [0.5, -0.13260155, 0.44731684579412084, -0.25978993539242673, 0.3535533905932738, -0.3535533905932738]], ["C", [0.25978993539242673, -0.44731684579412084, 0.13260155, -0.5, 0.0, -0.5]], ["C", [-0.13260155, -0.5, -0.25978993539242673, -0.44731684579412084, -0.3535533905932738, -0.3535533905932738]], ["C", [-0.44731684579412084, -0.25978993539242673, -0.5, -0.13260155, -0.5, 0.0]], ["C", [-0.5, 0.13260155, -0.44731684579412084, 0.25978993539242673, -0.3535533905932738, 0.3535533905932738]], ["C", [-0.25978993539242673, 0.44731684579412084, -0.13260155, 0.5, 0.0, 0.5]], ["Z", [0.0, 0.5]]];
     var size = d.s ? d.s : 1;

       var xscale = function(x){return size * x;};
       var yscale = function(y){return size * y;};

     return construct_SVG_path(path, xscale, yscale);
  };

  this.style_func = function(d){
     var edgecolor = d.ec ? d.ec : "#000000";
     var facecolor = d.fc ? d.fc : "none";
     var linewidth = d.lw ? d.lw : 1.0;
     var dasharray = d.ls ? d.ls : "10,0";
     return "stroke: " + edgecolor + "; " +
            "stroke-width: " + linewidth + "; " +
            "stroke-dasharray: " + dasharray + "; " +
            "fill: " + facecolor + "; " +
            "stroke-opacity: 0.3; " +
            "fill-opacity: 0.3";
  };

  this.draw = function(){
    this.g = this.ax.axes.append("svg:g");

    this.g.selectAll("paths-5")
      .data(this.data)
      .enter().append("svg:path")
          .attr('class', 'paths5')
          .attr("d", this.path_func.bind(this))
          .attr("style", this.style_func.bind(this))
          .attr("transform", this.offset_func.bind(this));
  };

  this.zoomed = function(){
    this.g.selectAll(".paths5")


               .attr("transform", this.offset_func.bind(this))
             ;
  };
};
ax1.add_element(coll07156de68da646fc87b8a8c895e1f5b2);












// Add a text element
ax1.add_element(new function(){
 this.position = [328.0, 437.55555555555554];
 this.rotation = -0.0;
 this.ax = ax1;
 this.text = "Scatter Plot (with tooltips!)";

 this.draw = function(){

   this.obj = this.ax.fig.canvas.append("text")
                  .attr("x", this.position[0])
                  .attr("y", this.ax.fig.height - this.position[1])

                  .attr("transform", "rotate(" + this.rotation + ","
                                  + this.position[0] + ","
                                  + (figheight - this.position[1]) + ")")


                  .attr("class", "text")
                  .text(this.text)
                  .attr("class", "textacae23cc951f455fbff0c544de7e8c8e")
                  .attr("style", "text-anchor: middle;" +
                                 "dominant-baseline: auto")

 }

 this.zoomed = function(){

 }
});











      fig.draw();


    var tooltip9f6f2cc34a9d4b83a99b6625b176c20f = fig.canvas.append("text")
                  .attr("class", "tooltip-text")
                  .attr("x", 0)
                  .attr("y", 0)
                  .text("")
                  .attr("style", "text-anchor: middle;")
                  .style("visibility", "hidden");


    var labels9f6f2cc34a9d4b83a99b6625b176c20f  = ["point 1", "point 2", "point 3", "point 4", "point 5", "point 6", "point 7", "point 8", "point 9", "point 10", "point 11", "point 12", "point 13", "point 14", "point 15", "point 16", "point 17", "point 18", "point 19", "point 20", "point 21", "point 22", "point 23", "point 24", "point 25", "point 26", "point 27", "point 28", "point 29", "point 30", "point 31", "point 32", "point 33", "point 34", "point 35", "point 36", "point 37", "point 38", "point 39", "point 40", "point 41", "point 42", "point 43", "point 44", "point 45", "point 46", "point 47", "point 48", "point 49", "point 50", "point 51", "point 52", "point 53", "point 54", "point 55", "point 56", "point 57", "point 58", "point 59", "point 60", "point 61", "point 62", "point 63", "point 64", "point 65", "point 66", "point 67", "point 68", "point 69", "point 70", "point 71", "point 72", "point 73", "point 74", "point 75", "point 76", "point 77", "point 78", "point 79", "point 80", "point 81", "point 82", "point 83", "point 84", "point 85", "point 86", "point 87", "point 88", "point 89", "point 90", "point 91", "point 92", "point 93", "point 94", "point 95", "point 96", "point 97", "point 98", "point 99", "point 100"];


    ax1.axes.selectAll(".paths5")
        .on("mouseover", function(d, i){
                           tooltip9f6f2cc34a9d4b83a99b6625b176c20f
                              .style("visibility", "visible")

                              .text(labels9f6f2cc34a9d4b83a99b6625b176c20f [i])
                              ;})
        .on("mousemove", function(d, i){
                          // For some reason, this doesn't work in the notebook
                          // xy = d3.mouse(fig.canvas.node());
                          // use this instead
                          var ctm = fig.canvas.node().getScreenCTM();
                          tooltip9f6f2cc34a9d4b83a99b6625b176c20f
                             .attr('x', d3.event.x - ctm.e - 0)
                             .attr('y', d3.event.y - ctm.f - 10);})
        .on("mouseout", function(d, i){tooltip9f6f2cc34a9d4b83a99b6625b176c20f.style("visibility",
                                                             "hidden");});


      return fig
    }

    // set a timeout of 0: this makes things work in the IPython notebook
    setTimeout(function(){
      // we need to call the function, making sure d3 is defined appropriately
      if(typeof define === "function" && define.amd){
        // If require.js is available, use it to load d3
        require.config({paths: {d3: "http://d3js.org/d3.v3.min"}});
        require(["d3"], create_fig132beae69c8f4a148dc54fedce2ba70f);
      }else if(typeof d3 === "undefined"){
        // No require.js: dynamically load d3
        var s = document.createElement('script');
        s.src = "http://d3js.org/d3.v3.min.js";
        s.async = true;
        s.onreadystatechange = s.onload = s.onerror = function() {
           if(typeof d3 === "undefined"){
              document.getElementById("figure132beae69c8f4a148dc54fedce2ba70f").innerHTML =
                    "<p style='color:red;'>(d3 failed to load)</p>";
           }else{
              create_fig132beae69c8f4a148dc54fedce2ba70f(d3);
           }
        };
        document.getElementsByTagName("head")[0].appendChild(s);
      }else{
        // d3 is already globally loaded
        create_fig132beae69c8f4a148dc54fedce2ba70f(d3);
      }
    }, 0);

    </script><p><strong>Python source code:</strong> <a class="reference download internal" href="../_downloads/scatter_tooltip.py"><tt class="xref download docutils literal"><span class="pre">[download</span> <span class="pre">source:</span> <span class="pre">scatter_tooltip.py]</span></tt></a></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mpld3</span> <span class="kn">import</span> <span class="n">plugins</span><span class="p">,</span> <span class="n">show_d3</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">subplot_kw</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">axisbg</span><span class="o">=</span><span class="s">&#39;#EEEEEE&#39;</span><span class="p">))</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">scatter</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">),</span>
                     <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">),</span>
                     <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">),</span>
                     <span class="n">s</span> <span class="o">=</span> <span class="mi">1000</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">),</span>
                     <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
                     <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">jet</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;white&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">&#39;solid&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&quot;Scatter Plot (with tooltips!)&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;point {0}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)]</span>
<span class="n">tooltip</span> <span class="o">=</span> <span class="n">plugins</span><span class="o">.</span><span class="n">PointLabelTooltip</span><span class="p">(</span><span class="n">scatter</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span>
<span class="n">plugins</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">tooltip</span><span class="p">)</span>

<span class="n">show_d3</span><span class="p">()</span>
</pre></div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="random_walk.html">Visualizing Random Walks</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="show_image.html">Draw an Image</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2014, Jake Vanderplas.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>