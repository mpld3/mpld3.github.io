

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>&lt;no title&gt; &#8212; Bringing Matplotlib to the Browser</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mpld3.css" />
    <link rel="stylesheet" href="../_static/print.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/theme_extras.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="&lt;no title&gt;" href="heart_path.html" />
    <link rel="prev" title="&lt;no title&gt;" href="custom_plugin.html" /> 
  </head><body>
      <div class="header"><a href="../index.html">
          <img class="leftlogo" src="../_static/mpld3-medium.png" alt="Logo"/>
        </a><h1 class="heading"><a href="../index.html">
          <span>Bringing Matplotlib to the Browser</span></a></h1>
        <h2 class="heading"><span>&lt;no title&gt;</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="custom_plugin.html">&lt;no title&gt;</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="heart_path.html">&lt;no title&gt;</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <style>

</style>

<div id="fig_el587581402278368585765940484634"></div>
<script>
function mpld3_load_lib(url, callback){
  var s = document.createElement('script');
  s.src = url;
  s.async = true;
  s.onreadystatechange = s.onload = callback;
  s.onerror = function(){console.warn("failed to load library " + url);};
  document.getElementsByTagName("head")[0].appendChild(s);
}

if(typeof(mpld3) !== "undefined" && mpld3._mpld3IsLoaded){
   // already loaded: just create the figure
   !function(mpld3){

    mpld3.register_plugin("networkxd3forcelayout", NetworkXD3ForceLayoutPlugin);
    NetworkXD3ForceLayoutPlugin.prototype = Object.create(mpld3.Plugin.prototype);
    NetworkXD3ForceLayoutPlugin.prototype.constructor = NetworkXD3ForceLayoutPlugin;
    NetworkXD3ForceLayoutPlugin.prototype.requiredProps = ["graph",
                                                                "ax_id",];
    NetworkXD3ForceLayoutPlugin.prototype.defaultProps = { coordinates: "data",
                                                               gravity: 1,
                                                               charge: -30,
                                                               link_strength: 1,
                                                               friction: 0.9,
                                                               link_distance: 20,
                                                               maximum_stroke_width: 2,
                                                               minimum_stroke_width: 1,
                                                               nominal_stroke_width: 1,
                                                               maximum_radius: 10,
                                                               minimum_radius: 1,
                                                               nominal_radius: 5,
                                                            };
    function NetworkXD3ForceLayoutPlugin(fig, props){
        mpld3.Plugin.call(this, fig, props);
    };
    var color = d3.scaleOrdinal(d3.schemeCategory10);
    NetworkXD3ForceLayoutPlugin.prototype.zoomScaleProp = function (nominal_prop, minimum_prop, maximum_prop) {
        var zoom = this.ax.zoom;
        scalerFunction = function() {
            var prop = nominal_prop;
            if (nominal_prop*zoom.scale()>maximum_prop) prop = maximum_prop/zoom.scale();
            if (nominal_prop*zoom.scale()<minimum_prop) prop = minimum_prop/zoom.scale();
            return prop
        }
        return scalerFunction;
    }
    NetworkXD3ForceLayoutPlugin.prototype.setupDefaults = function () {
        this.zoomScaleStroke = this.zoomScaleProp(this.props.nominal_stroke_width,
                                                  this.props.minimum_stroke_width,
                                                  this.props.maximum_stroke_width)
        this.zoomScaleRadius = this.zoomScaleProp(this.props.nominal_radius,
                                                  this.props.minimum_radius,
                                                  this.props.maximum_radius)
    }
    NetworkXD3ForceLayoutPlugin.prototype.zoomed = function() {
        this.tick()
    }
    NetworkXD3ForceLayoutPlugin.prototype.draw = function(){
        plugin = this
        DEFAULT_NODE_SIZE = this.props.nominal_radius;
        var height = this.fig.height
        var width = this.fig.width
        var graph = this.props.graph
        var gravity = this.props.gravity.toFixed()
        var charge = this.props.charge.toFixed()
        var link_distance = this.props.link_distance.toFixed()
        var link_strength = this.props.link_strength.toFixed()
        var friction = this.props.friction.toFixed()
        this.ax = mpld3.get_element(this.props.ax_id, this.fig)
        var ax = this.ax;
        this.ax.elements.push(this)
        ax_obj = this.ax;
        var width = d3.max(ax.x.range()) - d3.min(ax.x.range()),
            height = d3.max(ax.y.range()) - d3.min(ax.y.range());
        var color = d3.scaleOrdinal(d3.schemeCategory10);
        this.xScale = d3.scaleLinear().domain([0, 1]).range([0, width]) // ax.x;
        this.yScale = d3.scaleLinear().domain([0, 1]).range([height, 0]) // ax.y;
        this.force = d3.forceSimulation();
        this.svg = this.ax.axes.append("g");
        for(var i = 0; i < graph.nodes.length; i++){
            var node = graph.nodes[i];
            if (node.hasOwnProperty('x')) {
                node.x = this.ax.x(node.x);
            }
            if (node.hasOwnProperty('y')) {
                node.y = this.ax.y(node.y);
            }
        }
        this.force
            .force("link",
                d3.forceLink()
                    .id(function(d) { return d.index })
                    .strength(link_strength)
                    .distance(link_distance)
            )
            .force("collide", d3.forceCollide(function(d){return d.r + 8 }).iterations(16))
            .force("charge", d3.forceManyBody().strength(charge))
            .force("center", d3.forceCenter(width / 2, height / 2))
            .force("y", d3.forceY(0))
            .force("x", d3.forceX(0));
        this.force.nodes(graph.nodes);
        this.force.force("link").links(graph.links);
        this.link = this.svg.selectAll(".link")
            .data(graph.links)
          .enter().append("line")
            .attr("class", "link")
            .attr("stroke", "black")
            .style("stroke-width", function (d) { return Math.sqrt(d.value); });
        this.node = this.svg.selectAll(".node")
            .data(graph.nodes)
          .enter().append("circle")
            .attr("class", "node")
            .attr("r", function(d) {return d.size === undefined ? DEFAULT_NODE_SIZE : d.size ;})
            .style("fill", function (d) { return color(d); });
        this.node.append("title")
            .text(function (d) { return d.name; });
        this.force.on("tick", this.tick.bind(this));
        this.setupDefaults()
    };
    NetworkXD3ForceLayoutPlugin.prototype.tick = function() {
        this.link.attr("x1", function (d) { return this.ax.x(this.xScale.invert(d.source.x)); }.bind(this))
                 .attr("y1", function (d) { return this.ax.y(this.yScale.invert(d.source.y)); }.bind(this))
                 .attr("x2", function (d) { return this.ax.x(this.xScale.invert(d.target.x)); }.bind(this))
                 .attr("y2", function (d) { return this.ax.y(this.yScale.invert(d.target.y)); }.bind(this));
        this.node.attr("transform", function (d) {
            return "translate(" + this.ax.x(this.xScale.invert(d.x)) + "," + this.ax.y(this.yScale.invert(d.y)) + ")";
            }.bind(this)
        );
    }

       mpld3.draw_figure("fig_el587581402278368585765940484634", {"width": 1000.0, "height": 1000.0, "axes": [{"bbox": [0.125, 0.10999999999999999, 0.775, 0.77], "xlim": [0.0, 1.0], "ylim": [0.0, 1.0], "xdomain": [0.0, 1.0], "ydomain": [0.0, 1.0], "xscale": "linear", "yscale": "linear", "axes": [{"position": "bottom", "nticks": 6, "tickvalues": null, "tickformat_formatter": "", "tickformat": null, "scale": "linear", "fontsize": 10.0, "grid": {"gridOn": false}, "visible": true}, {"position": "left", "nticks": 6, "tickvalues": null, "tickformat_formatter": "", "tickformat": null, "scale": "linear", "fontsize": 10.0, "grid": {"gridOn": false}, "visible": true}], "axesbg": "#FFFFFF", "axesbgalpha": null, "zoomable": true, "id": "el58758140227836802096", "lines": [], "paths": [], "markers": [], "texts": [], "collections": [], "images": [], "sharex": [], "sharey": []}], "data": {}, "id": "el58758140227836858576", "plugins": [{"type": "reset"}, {"type": "zoom", "button": true, "enabled": false}, {"type": "boxzoom", "button": true, "enabled": false}, {"type": "networkxd3forcelayout", "graph": {"directed": false, "graph": {"name": "Zachary's Karate Club"}, "links": [{"source": 0, "target": 1}, {"source": 0, "target": 2}, {"source": 0, "target": 3}, {"source": 0, "target": 4}, {"source": 0, "target": 5}, {"source": 0, "target": 6}, {"source": 0, "target": 7}, {"source": 0, "target": 8}, {"source": 0, "target": 10}, {"source": 0, "target": 11}, {"source": 0, "target": 12}, {"source": 0, "target": 13}, {"source": 0, "target": 17}, {"source": 0, "target": 19}, {"source": 0, "target": 21}, {"source": 0, "target": 31}, {"source": 1, "target": 2}, {"source": 1, "target": 3}, {"source": 1, "target": 7}, {"source": 1, "target": 13}, {"source": 1, "target": 17}, {"source": 1, "target": 19}, {"source": 1, "target": 21}, {"source": 1, "target": 30}, {"source": 2, "target": 3}, {"source": 2, "target": 32}, {"source": 2, "target": 7}, {"source": 2, "target": 8}, {"source": 2, "target": 9}, {"source": 2, "target": 13}, {"source": 2, "target": 27}, {"source": 2, "target": 28}, {"source": 3, "target": 7}, {"source": 3, "target": 12}, {"source": 3, "target": 13}, {"source": 4, "target": 10}, {"source": 4, "target": 6}, {"source": 5, "target": 16}, {"source": 5, "target": 10}, {"source": 5, "target": 6}, {"source": 6, "target": 16}, {"source": 8, "target": 32}, {"source": 8, "target": 30}, {"source": 8, "target": 33}, {"source": 9, "target": 33}, {"source": 13, "target": 33}, {"source": 14, "target": 32}, {"source": 14, "target": 33}, {"source": 15, "target": 32}, {"source": 15, "target": 33}, {"source": 18, "target": 32}, {"source": 18, "target": 33}, {"source": 19, "target": 33}, {"source": 20, "target": 32}, {"source": 20, "target": 33}, {"source": 22, "target": 32}, {"source": 22, "target": 33}, {"source": 23, "target": 32}, {"source": 23, "target": 25}, {"source": 23, "target": 27}, {"source": 23, "target": 29}, {"source": 23, "target": 33}, {"source": 24, "target": 25}, {"source": 24, "target": 27}, {"source": 24, "target": 31}, {"source": 25, "target": 31}, {"source": 26, "target": 33}, {"source": 26, "target": 29}, {"source": 27, "target": 33}, {"source": 28, "target": 33}, {"source": 28, "target": 31}, {"source": 29, "target": 32}, {"source": 29, "target": 33}, {"source": 30, "target": 33}, {"source": 30, "target": 32}, {"source": 31, "target": 33}, {"source": 31, "target": 32}, {"source": 32, "target": 33}], "multigraph": false, "nodes": [{"club": "Mr. Hi", "color": "purple", "id": 0, "size": 16}, {"club": "Mr. Hi", "color": "purple", "id": 1, "size": 9}, {"club": "Mr. Hi", "color": "purple", "id": 2, "size": 10}, {"club": "Mr. Hi", "color": "purple", "id": 3, "size": 6}, {"club": "Mr. Hi", "color": "purple", "id": 4, "size": 3}, {"club": "Mr. Hi", "color": "purple", "id": 5, "size": 4}, {"club": "Mr. Hi", "color": "purple", "id": 6, "size": 4}, {"club": "Mr. Hi", "color": "purple", "id": 7, "size": 4}, {"club": "Mr. Hi", "color": "purple", "id": 8, "size": 5}, {"club": "Officer", "color": "orange", "id": 9, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 10, "size": 3}, {"club": "Mr. Hi", "color": "purple", "id": 11, "size": 1}, {"club": "Mr. Hi", "color": "purple", "id": 12, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 13, "size": 5}, {"club": "Officer", "color": "orange", "id": 14, "size": 2}, {"club": "Officer", "color": "orange", "id": 15, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 16, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 17, "size": 2}, {"club": "Officer", "color": "orange", "id": 18, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 19, "size": 3}, {"club": "Officer", "color": "orange", "id": 20, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 21, "size": 2}, {"club": "Officer", "color": "orange", "id": 22, "size": 2}, {"club": "Officer", "color": "orange", "id": 23, "size": 5}, {"club": "Officer", "color": "orange", "id": 24, "size": 3}, {"club": "Officer", "color": "orange", "id": 25, "size": 3}, {"club": "Officer", "color": "orange", "id": 26, "size": 2}, {"club": "Officer", "color": "orange", "id": 27, "size": 4}, {"club": "Officer", "color": "orange", "id": 28, "size": 3}, {"club": "Officer", "color": "orange", "id": 29, "size": 4}, {"club": "Officer", "color": "orange", "id": 30, "size": 4}, {"club": "Officer", "color": "orange", "id": 31, "size": 6}, {"club": "Officer", "color": "orange", "id": 32, "size": 12}, {"club": "Officer", "color": "orange", "id": 33, "size": 17}]}, "ax_id": "el58758140227836802096", "gravity": 0.5, "charge": -600, "friction": 1, "link_distance": 20, "link_strength": 1, "nominal_radius": 5}]});
   }(mpld3);
}else if(typeof define === "function" && define.amd){
   // require.js is available: use it to load d3/mpld3
   require.config({paths: {d3: "https://d3js.org/d3.v5"}});
   require(["d3"], function(d3){
      window.d3 = d3;
      mpld3_load_lib("https://mpld3.github.io/js/mpld3.v0.5.6.js", function(){

    mpld3.register_plugin("networkxd3forcelayout", NetworkXD3ForceLayoutPlugin);
    NetworkXD3ForceLayoutPlugin.prototype = Object.create(mpld3.Plugin.prototype);
    NetworkXD3ForceLayoutPlugin.prototype.constructor = NetworkXD3ForceLayoutPlugin;
    NetworkXD3ForceLayoutPlugin.prototype.requiredProps = ["graph",
                                                                "ax_id",];
    NetworkXD3ForceLayoutPlugin.prototype.defaultProps = { coordinates: "data",
                                                               gravity: 1,
                                                               charge: -30,
                                                               link_strength: 1,
                                                               friction: 0.9,
                                                               link_distance: 20,
                                                               maximum_stroke_width: 2,
                                                               minimum_stroke_width: 1,
                                                               nominal_stroke_width: 1,
                                                               maximum_radius: 10,
                                                               minimum_radius: 1,
                                                               nominal_radius: 5,
                                                            };
    function NetworkXD3ForceLayoutPlugin(fig, props){
        mpld3.Plugin.call(this, fig, props);
    };
    var color = d3.scaleOrdinal(d3.schemeCategory10);
    NetworkXD3ForceLayoutPlugin.prototype.zoomScaleProp = function (nominal_prop, minimum_prop, maximum_prop) {
        var zoom = this.ax.zoom;
        scalerFunction = function() {
            var prop = nominal_prop;
            if (nominal_prop*zoom.scale()>maximum_prop) prop = maximum_prop/zoom.scale();
            if (nominal_prop*zoom.scale()<minimum_prop) prop = minimum_prop/zoom.scale();
            return prop
        }
        return scalerFunction;
    }
    NetworkXD3ForceLayoutPlugin.prototype.setupDefaults = function () {
        this.zoomScaleStroke = this.zoomScaleProp(this.props.nominal_stroke_width,
                                                  this.props.minimum_stroke_width,
                                                  this.props.maximum_stroke_width)
        this.zoomScaleRadius = this.zoomScaleProp(this.props.nominal_radius,
                                                  this.props.minimum_radius,
                                                  this.props.maximum_radius)
    }
    NetworkXD3ForceLayoutPlugin.prototype.zoomed = function() {
        this.tick()
    }
    NetworkXD3ForceLayoutPlugin.prototype.draw = function(){
        plugin = this
        DEFAULT_NODE_SIZE = this.props.nominal_radius;
        var height = this.fig.height
        var width = this.fig.width
        var graph = this.props.graph
        var gravity = this.props.gravity.toFixed()
        var charge = this.props.charge.toFixed()
        var link_distance = this.props.link_distance.toFixed()
        var link_strength = this.props.link_strength.toFixed()
        var friction = this.props.friction.toFixed()
        this.ax = mpld3.get_element(this.props.ax_id, this.fig)
        var ax = this.ax;
        this.ax.elements.push(this)
        ax_obj = this.ax;
        var width = d3.max(ax.x.range()) - d3.min(ax.x.range()),
            height = d3.max(ax.y.range()) - d3.min(ax.y.range());
        var color = d3.scaleOrdinal(d3.schemeCategory10);
        this.xScale = d3.scaleLinear().domain([0, 1]).range([0, width]) // ax.x;
        this.yScale = d3.scaleLinear().domain([0, 1]).range([height, 0]) // ax.y;
        this.force = d3.forceSimulation();
        this.svg = this.ax.axes.append("g");
        for(var i = 0; i < graph.nodes.length; i++){
            var node = graph.nodes[i];
            if (node.hasOwnProperty('x')) {
                node.x = this.ax.x(node.x);
            }
            if (node.hasOwnProperty('y')) {
                node.y = this.ax.y(node.y);
            }
        }
        this.force
            .force("link",
                d3.forceLink()
                    .id(function(d) { return d.index })
                    .strength(link_strength)
                    .distance(link_distance)
            )
            .force("collide", d3.forceCollide(function(d){return d.r + 8 }).iterations(16))
            .force("charge", d3.forceManyBody().strength(charge))
            .force("center", d3.forceCenter(width / 2, height / 2))
            .force("y", d3.forceY(0))
            .force("x", d3.forceX(0));
        this.force.nodes(graph.nodes);
        this.force.force("link").links(graph.links);
        this.link = this.svg.selectAll(".link")
            .data(graph.links)
          .enter().append("line")
            .attr("class", "link")
            .attr("stroke", "black")
            .style("stroke-width", function (d) { return Math.sqrt(d.value); });
        this.node = this.svg.selectAll(".node")
            .data(graph.nodes)
          .enter().append("circle")
            .attr("class", "node")
            .attr("r", function(d) {return d.size === undefined ? DEFAULT_NODE_SIZE : d.size ;})
            .style("fill", function (d) { return color(d); });
        this.node.append("title")
            .text(function (d) { return d.name; });
        this.force.on("tick", this.tick.bind(this));
        this.setupDefaults()
    };
    NetworkXD3ForceLayoutPlugin.prototype.tick = function() {
        this.link.attr("x1", function (d) { return this.ax.x(this.xScale.invert(d.source.x)); }.bind(this))
                 .attr("y1", function (d) { return this.ax.y(this.yScale.invert(d.source.y)); }.bind(this))
                 .attr("x2", function (d) { return this.ax.x(this.xScale.invert(d.target.x)); }.bind(this))
                 .attr("y2", function (d) { return this.ax.y(this.yScale.invert(d.target.y)); }.bind(this));
        this.node.attr("transform", function (d) {
            return "translate(" + this.ax.x(this.xScale.invert(d.x)) + "," + this.ax.y(this.yScale.invert(d.y)) + ")";
            }.bind(this)
        );
    }

         mpld3.draw_figure("fig_el587581402278368585765940484634", {"width": 1000.0, "height": 1000.0, "axes": [{"bbox": [0.125, 0.10999999999999999, 0.775, 0.77], "xlim": [0.0, 1.0], "ylim": [0.0, 1.0], "xdomain": [0.0, 1.0], "ydomain": [0.0, 1.0], "xscale": "linear", "yscale": "linear", "axes": [{"position": "bottom", "nticks": 6, "tickvalues": null, "tickformat_formatter": "", "tickformat": null, "scale": "linear", "fontsize": 10.0, "grid": {"gridOn": false}, "visible": true}, {"position": "left", "nticks": 6, "tickvalues": null, "tickformat_formatter": "", "tickformat": null, "scale": "linear", "fontsize": 10.0, "grid": {"gridOn": false}, "visible": true}], "axesbg": "#FFFFFF", "axesbgalpha": null, "zoomable": true, "id": "el58758140227836802096", "lines": [], "paths": [], "markers": [], "texts": [], "collections": [], "images": [], "sharex": [], "sharey": []}], "data": {}, "id": "el58758140227836858576", "plugins": [{"type": "reset"}, {"type": "zoom", "button": true, "enabled": false}, {"type": "boxzoom", "button": true, "enabled": false}, {"type": "networkxd3forcelayout", "graph": {"directed": false, "graph": {"name": "Zachary's Karate Club"}, "links": [{"source": 0, "target": 1}, {"source": 0, "target": 2}, {"source": 0, "target": 3}, {"source": 0, "target": 4}, {"source": 0, "target": 5}, {"source": 0, "target": 6}, {"source": 0, "target": 7}, {"source": 0, "target": 8}, {"source": 0, "target": 10}, {"source": 0, "target": 11}, {"source": 0, "target": 12}, {"source": 0, "target": 13}, {"source": 0, "target": 17}, {"source": 0, "target": 19}, {"source": 0, "target": 21}, {"source": 0, "target": 31}, {"source": 1, "target": 2}, {"source": 1, "target": 3}, {"source": 1, "target": 7}, {"source": 1, "target": 13}, {"source": 1, "target": 17}, {"source": 1, "target": 19}, {"source": 1, "target": 21}, {"source": 1, "target": 30}, {"source": 2, "target": 3}, {"source": 2, "target": 32}, {"source": 2, "target": 7}, {"source": 2, "target": 8}, {"source": 2, "target": 9}, {"source": 2, "target": 13}, {"source": 2, "target": 27}, {"source": 2, "target": 28}, {"source": 3, "target": 7}, {"source": 3, "target": 12}, {"source": 3, "target": 13}, {"source": 4, "target": 10}, {"source": 4, "target": 6}, {"source": 5, "target": 16}, {"source": 5, "target": 10}, {"source": 5, "target": 6}, {"source": 6, "target": 16}, {"source": 8, "target": 32}, {"source": 8, "target": 30}, {"source": 8, "target": 33}, {"source": 9, "target": 33}, {"source": 13, "target": 33}, {"source": 14, "target": 32}, {"source": 14, "target": 33}, {"source": 15, "target": 32}, {"source": 15, "target": 33}, {"source": 18, "target": 32}, {"source": 18, "target": 33}, {"source": 19, "target": 33}, {"source": 20, "target": 32}, {"source": 20, "target": 33}, {"source": 22, "target": 32}, {"source": 22, "target": 33}, {"source": 23, "target": 32}, {"source": 23, "target": 25}, {"source": 23, "target": 27}, {"source": 23, "target": 29}, {"source": 23, "target": 33}, {"source": 24, "target": 25}, {"source": 24, "target": 27}, {"source": 24, "target": 31}, {"source": 25, "target": 31}, {"source": 26, "target": 33}, {"source": 26, "target": 29}, {"source": 27, "target": 33}, {"source": 28, "target": 33}, {"source": 28, "target": 31}, {"source": 29, "target": 32}, {"source": 29, "target": 33}, {"source": 30, "target": 33}, {"source": 30, "target": 32}, {"source": 31, "target": 33}, {"source": 31, "target": 32}, {"source": 32, "target": 33}], "multigraph": false, "nodes": [{"club": "Mr. Hi", "color": "purple", "id": 0, "size": 16}, {"club": "Mr. Hi", "color": "purple", "id": 1, "size": 9}, {"club": "Mr. Hi", "color": "purple", "id": 2, "size": 10}, {"club": "Mr. Hi", "color": "purple", "id": 3, "size": 6}, {"club": "Mr. Hi", "color": "purple", "id": 4, "size": 3}, {"club": "Mr. Hi", "color": "purple", "id": 5, "size": 4}, {"club": "Mr. Hi", "color": "purple", "id": 6, "size": 4}, {"club": "Mr. Hi", "color": "purple", "id": 7, "size": 4}, {"club": "Mr. Hi", "color": "purple", "id": 8, "size": 5}, {"club": "Officer", "color": "orange", "id": 9, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 10, "size": 3}, {"club": "Mr. Hi", "color": "purple", "id": 11, "size": 1}, {"club": "Mr. Hi", "color": "purple", "id": 12, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 13, "size": 5}, {"club": "Officer", "color": "orange", "id": 14, "size": 2}, {"club": "Officer", "color": "orange", "id": 15, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 16, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 17, "size": 2}, {"club": "Officer", "color": "orange", "id": 18, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 19, "size": 3}, {"club": "Officer", "color": "orange", "id": 20, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 21, "size": 2}, {"club": "Officer", "color": "orange", "id": 22, "size": 2}, {"club": "Officer", "color": "orange", "id": 23, "size": 5}, {"club": "Officer", "color": "orange", "id": 24, "size": 3}, {"club": "Officer", "color": "orange", "id": 25, "size": 3}, {"club": "Officer", "color": "orange", "id": 26, "size": 2}, {"club": "Officer", "color": "orange", "id": 27, "size": 4}, {"club": "Officer", "color": "orange", "id": 28, "size": 3}, {"club": "Officer", "color": "orange", "id": 29, "size": 4}, {"club": "Officer", "color": "orange", "id": 30, "size": 4}, {"club": "Officer", "color": "orange", "id": 31, "size": 6}, {"club": "Officer", "color": "orange", "id": 32, "size": 12}, {"club": "Officer", "color": "orange", "id": 33, "size": 17}]}, "ax_id": "el58758140227836802096", "gravity": 0.5, "charge": -600, "friction": 1, "link_distance": 20, "link_strength": 1, "nominal_radius": 5}]});
      });
    });
}else{
    // require.js not available: dynamically load d3 & mpld3
    mpld3_load_lib("https://d3js.org/d3.v5.js", function(){
         mpld3_load_lib("https://mpld3.github.io/js/mpld3.v0.5.6.js", function(){

    mpld3.register_plugin("networkxd3forcelayout", NetworkXD3ForceLayoutPlugin);
    NetworkXD3ForceLayoutPlugin.prototype = Object.create(mpld3.Plugin.prototype);
    NetworkXD3ForceLayoutPlugin.prototype.constructor = NetworkXD3ForceLayoutPlugin;
    NetworkXD3ForceLayoutPlugin.prototype.requiredProps = ["graph",
                                                                "ax_id",];
    NetworkXD3ForceLayoutPlugin.prototype.defaultProps = { coordinates: "data",
                                                               gravity: 1,
                                                               charge: -30,
                                                               link_strength: 1,
                                                               friction: 0.9,
                                                               link_distance: 20,
                                                               maximum_stroke_width: 2,
                                                               minimum_stroke_width: 1,
                                                               nominal_stroke_width: 1,
                                                               maximum_radius: 10,
                                                               minimum_radius: 1,
                                                               nominal_radius: 5,
                                                            };
    function NetworkXD3ForceLayoutPlugin(fig, props){
        mpld3.Plugin.call(this, fig, props);
    };
    var color = d3.scaleOrdinal(d3.schemeCategory10);
    NetworkXD3ForceLayoutPlugin.prototype.zoomScaleProp = function (nominal_prop, minimum_prop, maximum_prop) {
        var zoom = this.ax.zoom;
        scalerFunction = function() {
            var prop = nominal_prop;
            if (nominal_prop*zoom.scale()>maximum_prop) prop = maximum_prop/zoom.scale();
            if (nominal_prop*zoom.scale()<minimum_prop) prop = minimum_prop/zoom.scale();
            return prop
        }
        return scalerFunction;
    }
    NetworkXD3ForceLayoutPlugin.prototype.setupDefaults = function () {
        this.zoomScaleStroke = this.zoomScaleProp(this.props.nominal_stroke_width,
                                                  this.props.minimum_stroke_width,
                                                  this.props.maximum_stroke_width)
        this.zoomScaleRadius = this.zoomScaleProp(this.props.nominal_radius,
                                                  this.props.minimum_radius,
                                                  this.props.maximum_radius)
    }
    NetworkXD3ForceLayoutPlugin.prototype.zoomed = function() {
        this.tick()
    }
    NetworkXD3ForceLayoutPlugin.prototype.draw = function(){
        plugin = this
        DEFAULT_NODE_SIZE = this.props.nominal_radius;
        var height = this.fig.height
        var width = this.fig.width
        var graph = this.props.graph
        var gravity = this.props.gravity.toFixed()
        var charge = this.props.charge.toFixed()
        var link_distance = this.props.link_distance.toFixed()
        var link_strength = this.props.link_strength.toFixed()
        var friction = this.props.friction.toFixed()
        this.ax = mpld3.get_element(this.props.ax_id, this.fig)
        var ax = this.ax;
        this.ax.elements.push(this)
        ax_obj = this.ax;
        var width = d3.max(ax.x.range()) - d3.min(ax.x.range()),
            height = d3.max(ax.y.range()) - d3.min(ax.y.range());
        var color = d3.scaleOrdinal(d3.schemeCategory10);
        this.xScale = d3.scaleLinear().domain([0, 1]).range([0, width]) // ax.x;
        this.yScale = d3.scaleLinear().domain([0, 1]).range([height, 0]) // ax.y;
        this.force = d3.forceSimulation();
        this.svg = this.ax.axes.append("g");
        for(var i = 0; i < graph.nodes.length; i++){
            var node = graph.nodes[i];
            if (node.hasOwnProperty('x')) {
                node.x = this.ax.x(node.x);
            }
            if (node.hasOwnProperty('y')) {
                node.y = this.ax.y(node.y);
            }
        }
        this.force
            .force("link",
                d3.forceLink()
                    .id(function(d) { return d.index })
                    .strength(link_strength)
                    .distance(link_distance)
            )
            .force("collide", d3.forceCollide(function(d){return d.r + 8 }).iterations(16))
            .force("charge", d3.forceManyBody().strength(charge))
            .force("center", d3.forceCenter(width / 2, height / 2))
            .force("y", d3.forceY(0))
            .force("x", d3.forceX(0));
        this.force.nodes(graph.nodes);
        this.force.force("link").links(graph.links);
        this.link = this.svg.selectAll(".link")
            .data(graph.links)
          .enter().append("line")
            .attr("class", "link")
            .attr("stroke", "black")
            .style("stroke-width", function (d) { return Math.sqrt(d.value); });
        this.node = this.svg.selectAll(".node")
            .data(graph.nodes)
          .enter().append("circle")
            .attr("class", "node")
            .attr("r", function(d) {return d.size === undefined ? DEFAULT_NODE_SIZE : d.size ;})
            .style("fill", function (d) { return color(d); });
        this.node.append("title")
            .text(function (d) { return d.name; });
        this.force.on("tick", this.tick.bind(this));
        this.setupDefaults()
    };
    NetworkXD3ForceLayoutPlugin.prototype.tick = function() {
        this.link.attr("x1", function (d) { return this.ax.x(this.xScale.invert(d.source.x)); }.bind(this))
                 .attr("y1", function (d) { return this.ax.y(this.yScale.invert(d.source.y)); }.bind(this))
                 .attr("x2", function (d) { return this.ax.x(this.xScale.invert(d.target.x)); }.bind(this))
                 .attr("y2", function (d) { return this.ax.y(this.yScale.invert(d.target.y)); }.bind(this));
        this.node.attr("transform", function (d) {
            return "translate(" + this.ax.x(this.xScale.invert(d.x)) + "," + this.ax.y(this.yScale.invert(d.y)) + ")";
            }.bind(this)
        );
    }

                 mpld3.draw_figure("fig_el587581402278368585765940484634", {"width": 1000.0, "height": 1000.0, "axes": [{"bbox": [0.125, 0.10999999999999999, 0.775, 0.77], "xlim": [0.0, 1.0], "ylim": [0.0, 1.0], "xdomain": [0.0, 1.0], "ydomain": [0.0, 1.0], "xscale": "linear", "yscale": "linear", "axes": [{"position": "bottom", "nticks": 6, "tickvalues": null, "tickformat_formatter": "", "tickformat": null, "scale": "linear", "fontsize": 10.0, "grid": {"gridOn": false}, "visible": true}, {"position": "left", "nticks": 6, "tickvalues": null, "tickformat_formatter": "", "tickformat": null, "scale": "linear", "fontsize": 10.0, "grid": {"gridOn": false}, "visible": true}], "axesbg": "#FFFFFF", "axesbgalpha": null, "zoomable": true, "id": "el58758140227836802096", "lines": [], "paths": [], "markers": [], "texts": [], "collections": [], "images": [], "sharex": [], "sharey": []}], "data": {}, "id": "el58758140227836858576", "plugins": [{"type": "reset"}, {"type": "zoom", "button": true, "enabled": false}, {"type": "boxzoom", "button": true, "enabled": false}, {"type": "networkxd3forcelayout", "graph": {"directed": false, "graph": {"name": "Zachary's Karate Club"}, "links": [{"source": 0, "target": 1}, {"source": 0, "target": 2}, {"source": 0, "target": 3}, {"source": 0, "target": 4}, {"source": 0, "target": 5}, {"source": 0, "target": 6}, {"source": 0, "target": 7}, {"source": 0, "target": 8}, {"source": 0, "target": 10}, {"source": 0, "target": 11}, {"source": 0, "target": 12}, {"source": 0, "target": 13}, {"source": 0, "target": 17}, {"source": 0, "target": 19}, {"source": 0, "target": 21}, {"source": 0, "target": 31}, {"source": 1, "target": 2}, {"source": 1, "target": 3}, {"source": 1, "target": 7}, {"source": 1, "target": 13}, {"source": 1, "target": 17}, {"source": 1, "target": 19}, {"source": 1, "target": 21}, {"source": 1, "target": 30}, {"source": 2, "target": 3}, {"source": 2, "target": 32}, {"source": 2, "target": 7}, {"source": 2, "target": 8}, {"source": 2, "target": 9}, {"source": 2, "target": 13}, {"source": 2, "target": 27}, {"source": 2, "target": 28}, {"source": 3, "target": 7}, {"source": 3, "target": 12}, {"source": 3, "target": 13}, {"source": 4, "target": 10}, {"source": 4, "target": 6}, {"source": 5, "target": 16}, {"source": 5, "target": 10}, {"source": 5, "target": 6}, {"source": 6, "target": 16}, {"source": 8, "target": 32}, {"source": 8, "target": 30}, {"source": 8, "target": 33}, {"source": 9, "target": 33}, {"source": 13, "target": 33}, {"source": 14, "target": 32}, {"source": 14, "target": 33}, {"source": 15, "target": 32}, {"source": 15, "target": 33}, {"source": 18, "target": 32}, {"source": 18, "target": 33}, {"source": 19, "target": 33}, {"source": 20, "target": 32}, {"source": 20, "target": 33}, {"source": 22, "target": 32}, {"source": 22, "target": 33}, {"source": 23, "target": 32}, {"source": 23, "target": 25}, {"source": 23, "target": 27}, {"source": 23, "target": 29}, {"source": 23, "target": 33}, {"source": 24, "target": 25}, {"source": 24, "target": 27}, {"source": 24, "target": 31}, {"source": 25, "target": 31}, {"source": 26, "target": 33}, {"source": 26, "target": 29}, {"source": 27, "target": 33}, {"source": 28, "target": 33}, {"source": 28, "target": 31}, {"source": 29, "target": 32}, {"source": 29, "target": 33}, {"source": 30, "target": 33}, {"source": 30, "target": 32}, {"source": 31, "target": 33}, {"source": 31, "target": 32}, {"source": 32, "target": 33}], "multigraph": false, "nodes": [{"club": "Mr. Hi", "color": "purple", "id": 0, "size": 16}, {"club": "Mr. Hi", "color": "purple", "id": 1, "size": 9}, {"club": "Mr. Hi", "color": "purple", "id": 2, "size": 10}, {"club": "Mr. Hi", "color": "purple", "id": 3, "size": 6}, {"club": "Mr. Hi", "color": "purple", "id": 4, "size": 3}, {"club": "Mr. Hi", "color": "purple", "id": 5, "size": 4}, {"club": "Mr. Hi", "color": "purple", "id": 6, "size": 4}, {"club": "Mr. Hi", "color": "purple", "id": 7, "size": 4}, {"club": "Mr. Hi", "color": "purple", "id": 8, "size": 5}, {"club": "Officer", "color": "orange", "id": 9, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 10, "size": 3}, {"club": "Mr. Hi", "color": "purple", "id": 11, "size": 1}, {"club": "Mr. Hi", "color": "purple", "id": 12, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 13, "size": 5}, {"club": "Officer", "color": "orange", "id": 14, "size": 2}, {"club": "Officer", "color": "orange", "id": 15, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 16, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 17, "size": 2}, {"club": "Officer", "color": "orange", "id": 18, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 19, "size": 3}, {"club": "Officer", "color": "orange", "id": 20, "size": 2}, {"club": "Mr. Hi", "color": "purple", "id": 21, "size": 2}, {"club": "Officer", "color": "orange", "id": 22, "size": 2}, {"club": "Officer", "color": "orange", "id": 23, "size": 5}, {"club": "Officer", "color": "orange", "id": 24, "size": 3}, {"club": "Officer", "color": "orange", "id": 25, "size": 3}, {"club": "Officer", "color": "orange", "id": 26, "size": 2}, {"club": "Officer", "color": "orange", "id": 27, "size": 4}, {"club": "Officer", "color": "orange", "id": 28, "size": 3}, {"club": "Officer", "color": "orange", "id": 29, "size": 4}, {"club": "Officer", "color": "orange", "id": 30, "size": 4}, {"club": "Officer", "color": "orange", "id": 31, "size": 6}, {"club": "Officer", "color": "orange", "id": 32, "size": 12}, {"club": "Officer", "color": "orange", "id": 33, "size": 17}]}, "ax_id": "el58758140227836802096", "gravity": 0.5, "charge": -600, "friction": 1, "link_distance": 20, "link_strength": 1, "nominal_radius": 5}]});
            })
         });
}
</script><p><strong>Python source code:</strong> <a class="reference download internal" download="" href="../_downloads/e3444ab99f2339be52fc73d977b45f81/networkxd3forcelayout.py"><code class="xref download docutils literal notranslate"><span class="pre">[download</span> <span class="pre">source:</span> <span class="pre">networkxd3forcelayout.py]</span></code></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
NetworkX to d3.js Force Layout
==============================

MPLD3 Plugin to convert a NetworkX graph to a force layout.
This is an example demoed `here
&lt;http://blog.kdheepak.com/mpld3-networkx-d3js-force-layout.html&gt;`_
You can download the plugin from the Github repo `here
&lt;https://github.com/kdheepak/mpld3_plugins/blob/master/mpld3_plugins/plugins/networkxd3forcelayout.py&gt;`_

BSD-Clause 3 License
Copyright (C) 2016 Dheepak Krishnamurthy
&quot;&quot;&quot;


import mpld3

graph = {&#39;directed&#39;: False,
 &#39;graph&#39;: {&#39;name&#39;: &quot;Zachary&#39;s Karate Club&quot;},
 &#39;links&#39;: [{&#39;source&#39;: 0, &#39;target&#39;: 1},
  {&#39;source&#39;: 0, &#39;target&#39;: 2},
  {&#39;source&#39;: 0, &#39;target&#39;: 3},
  {&#39;source&#39;: 0, &#39;target&#39;: 4},
  {&#39;source&#39;: 0, &#39;target&#39;: 5},
  {&#39;source&#39;: 0, &#39;target&#39;: 6},
  {&#39;source&#39;: 0, &#39;target&#39;: 7},
  {&#39;source&#39;: 0, &#39;target&#39;: 8},
  {&#39;source&#39;: 0, &#39;target&#39;: 10},
  {&#39;source&#39;: 0, &#39;target&#39;: 11},
  {&#39;source&#39;: 0, &#39;target&#39;: 12},
  {&#39;source&#39;: 0, &#39;target&#39;: 13},
  {&#39;source&#39;: 0, &#39;target&#39;: 17},
  {&#39;source&#39;: 0, &#39;target&#39;: 19},
  {&#39;source&#39;: 0, &#39;target&#39;: 21},
  {&#39;source&#39;: 0, &#39;target&#39;: 31},
  {&#39;source&#39;: 1, &#39;target&#39;: 2},
  {&#39;source&#39;: 1, &#39;target&#39;: 3},
  {&#39;source&#39;: 1, &#39;target&#39;: 7},
  {&#39;source&#39;: 1, &#39;target&#39;: 13},
  {&#39;source&#39;: 1, &#39;target&#39;: 17},
  {&#39;source&#39;: 1, &#39;target&#39;: 19},
  {&#39;source&#39;: 1, &#39;target&#39;: 21},
  {&#39;source&#39;: 1, &#39;target&#39;: 30},
  {&#39;source&#39;: 2, &#39;target&#39;: 3},
  {&#39;source&#39;: 2, &#39;target&#39;: 32},
  {&#39;source&#39;: 2, &#39;target&#39;: 7},
  {&#39;source&#39;: 2, &#39;target&#39;: 8},
  {&#39;source&#39;: 2, &#39;target&#39;: 9},
  {&#39;source&#39;: 2, &#39;target&#39;: 13},
  {&#39;source&#39;: 2, &#39;target&#39;: 27},
  {&#39;source&#39;: 2, &#39;target&#39;: 28},
  {&#39;source&#39;: 3, &#39;target&#39;: 7},
  {&#39;source&#39;: 3, &#39;target&#39;: 12},
  {&#39;source&#39;: 3, &#39;target&#39;: 13},
  {&#39;source&#39;: 4, &#39;target&#39;: 10},
  {&#39;source&#39;: 4, &#39;target&#39;: 6},
  {&#39;source&#39;: 5, &#39;target&#39;: 16},
  {&#39;source&#39;: 5, &#39;target&#39;: 10},
  {&#39;source&#39;: 5, &#39;target&#39;: 6},
  {&#39;source&#39;: 6, &#39;target&#39;: 16},
  {&#39;source&#39;: 8, &#39;target&#39;: 32},
  {&#39;source&#39;: 8, &#39;target&#39;: 30},
  {&#39;source&#39;: 8, &#39;target&#39;: 33},
  {&#39;source&#39;: 9, &#39;target&#39;: 33},
  {&#39;source&#39;: 13, &#39;target&#39;: 33},
  {&#39;source&#39;: 14, &#39;target&#39;: 32},
  {&#39;source&#39;: 14, &#39;target&#39;: 33},
  {&#39;source&#39;: 15, &#39;target&#39;: 32},
  {&#39;source&#39;: 15, &#39;target&#39;: 33},
  {&#39;source&#39;: 18, &#39;target&#39;: 32},
  {&#39;source&#39;: 18, &#39;target&#39;: 33},
  {&#39;source&#39;: 19, &#39;target&#39;: 33},
  {&#39;source&#39;: 20, &#39;target&#39;: 32},
  {&#39;source&#39;: 20, &#39;target&#39;: 33},
  {&#39;source&#39;: 22, &#39;target&#39;: 32},
  {&#39;source&#39;: 22, &#39;target&#39;: 33},
  {&#39;source&#39;: 23, &#39;target&#39;: 32},
  {&#39;source&#39;: 23, &#39;target&#39;: 25},
  {&#39;source&#39;: 23, &#39;target&#39;: 27},
  {&#39;source&#39;: 23, &#39;target&#39;: 29},
  {&#39;source&#39;: 23, &#39;target&#39;: 33},
  {&#39;source&#39;: 24, &#39;target&#39;: 25},
  {&#39;source&#39;: 24, &#39;target&#39;: 27},
  {&#39;source&#39;: 24, &#39;target&#39;: 31},
  {&#39;source&#39;: 25, &#39;target&#39;: 31},
  {&#39;source&#39;: 26, &#39;target&#39;: 33},
  {&#39;source&#39;: 26, &#39;target&#39;: 29},
  {&#39;source&#39;: 27, &#39;target&#39;: 33},
  {&#39;source&#39;: 28, &#39;target&#39;: 33},
  {&#39;source&#39;: 28, &#39;target&#39;: 31},
  {&#39;source&#39;: 29, &#39;target&#39;: 32},
  {&#39;source&#39;: 29, &#39;target&#39;: 33},
  {&#39;source&#39;: 30, &#39;target&#39;: 33},
  {&#39;source&#39;: 30, &#39;target&#39;: 32},
  {&#39;source&#39;: 31, &#39;target&#39;: 33},
  {&#39;source&#39;: 31, &#39;target&#39;: 32},
  {&#39;source&#39;: 32, &#39;target&#39;: 33}],
 &#39;multigraph&#39;: False,
 &#39;nodes&#39;: [{&#39;club&#39;: &#39;Mr. Hi&#39;, &#39;color&#39;: &#39;purple&#39;, &#39;id&#39;: 0, &#39;size&#39;: 16},
  {&#39;club&#39;: &#39;Mr. Hi&#39;, &#39;color&#39;: &#39;purple&#39;, &#39;id&#39;: 1, &#39;size&#39;: 9},
  {&#39;club&#39;: &#39;Mr. Hi&#39;, &#39;color&#39;: &#39;purple&#39;, &#39;id&#39;: 2, &#39;size&#39;: 10},
  {&#39;club&#39;: &#39;Mr. Hi&#39;, &#39;color&#39;: &#39;purple&#39;, &#39;id&#39;: 3, &#39;size&#39;: 6},
  {&#39;club&#39;: &#39;Mr. Hi&#39;, &#39;color&#39;: &#39;purple&#39;, &#39;id&#39;: 4, &#39;size&#39;: 3},
  {&#39;club&#39;: &#39;Mr. Hi&#39;, &#39;color&#39;: &#39;purple&#39;, &#39;id&#39;: 5, &#39;size&#39;: 4},
  {&#39;club&#39;: &#39;Mr. Hi&#39;, &#39;color&#39;: &#39;purple&#39;, &#39;id&#39;: 6, &#39;size&#39;: 4},
  {&#39;club&#39;: &#39;Mr. Hi&#39;, &#39;color&#39;: &#39;purple&#39;, &#39;id&#39;: 7, &#39;size&#39;: 4},
  {&#39;club&#39;: &#39;Mr. Hi&#39;, &#39;color&#39;: &#39;purple&#39;, &#39;id&#39;: 8, &#39;size&#39;: 5},
  {&#39;club&#39;: &#39;Officer&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;id&#39;: 9, &#39;size&#39;: 2},
  {&#39;club&#39;: &#39;Mr. Hi&#39;, &#39;color&#39;: &#39;purple&#39;, &#39;id&#39;: 10, &#39;size&#39;: 3},
  {&#39;club&#39;: &#39;Mr. Hi&#39;, &#39;color&#39;: &#39;purple&#39;, &#39;id&#39;: 11, &#39;size&#39;: 1},
  {&#39;club&#39;: &#39;Mr. Hi&#39;, &#39;color&#39;: &#39;purple&#39;, &#39;id&#39;: 12, &#39;size&#39;: 2},
  {&#39;club&#39;: &#39;Mr. Hi&#39;, &#39;color&#39;: &#39;purple&#39;, &#39;id&#39;: 13, &#39;size&#39;: 5},
  {&#39;club&#39;: &#39;Officer&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;id&#39;: 14, &#39;size&#39;: 2},
  {&#39;club&#39;: &#39;Officer&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;id&#39;: 15, &#39;size&#39;: 2},
  {&#39;club&#39;: &#39;Mr. Hi&#39;, &#39;color&#39;: &#39;purple&#39;, &#39;id&#39;: 16, &#39;size&#39;: 2},
  {&#39;club&#39;: &#39;Mr. Hi&#39;, &#39;color&#39;: &#39;purple&#39;, &#39;id&#39;: 17, &#39;size&#39;: 2},
  {&#39;club&#39;: &#39;Officer&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;id&#39;: 18, &#39;size&#39;: 2},
  {&#39;club&#39;: &#39;Mr. Hi&#39;, &#39;color&#39;: &#39;purple&#39;, &#39;id&#39;: 19, &#39;size&#39;: 3},
  {&#39;club&#39;: &#39;Officer&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;id&#39;: 20, &#39;size&#39;: 2},
  {&#39;club&#39;: &#39;Mr. Hi&#39;, &#39;color&#39;: &#39;purple&#39;, &#39;id&#39;: 21, &#39;size&#39;: 2},
  {&#39;club&#39;: &#39;Officer&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;id&#39;: 22, &#39;size&#39;: 2},
  {&#39;club&#39;: &#39;Officer&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;id&#39;: 23, &#39;size&#39;: 5},
  {&#39;club&#39;: &#39;Officer&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;id&#39;: 24, &#39;size&#39;: 3},
  {&#39;club&#39;: &#39;Officer&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;id&#39;: 25, &#39;size&#39;: 3},
  {&#39;club&#39;: &#39;Officer&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;id&#39;: 26, &#39;size&#39;: 2},
  {&#39;club&#39;: &#39;Officer&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;id&#39;: 27, &#39;size&#39;: 4},
  {&#39;club&#39;: &#39;Officer&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;id&#39;: 28, &#39;size&#39;: 3},
  {&#39;club&#39;: &#39;Officer&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;id&#39;: 29, &#39;size&#39;: 4},
  {&#39;club&#39;: &#39;Officer&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;id&#39;: 30, &#39;size&#39;: 4},
  {&#39;club&#39;: &#39;Officer&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;id&#39;: 31, &#39;size&#39;: 6},
  {&#39;club&#39;: &#39;Officer&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;id&#39;: 32, &#39;size&#39;: 12},
  {&#39;club&#39;: &#39;Officer&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;id&#39;: 33, &#39;size&#39;: 17}]}

class NetworkXD3ForceLayout(mpld3.plugins.PluginBase):
    &quot;&quot;&quot;A NetworkX to D3 Force Layout Plugin&quot;&quot;&quot;

    JAVASCRIPT = &quot;&quot;&quot;
    mpld3.register_plugin(&quot;networkxd3forcelayout&quot;, NetworkXD3ForceLayoutPlugin);
    NetworkXD3ForceLayoutPlugin.prototype = Object.create(mpld3.Plugin.prototype);
    NetworkXD3ForceLayoutPlugin.prototype.constructor = NetworkXD3ForceLayoutPlugin;
    NetworkXD3ForceLayoutPlugin.prototype.requiredProps = [&quot;graph&quot;,
                                                                &quot;ax_id&quot;,];
    NetworkXD3ForceLayoutPlugin.prototype.defaultProps = { coordinates: &quot;data&quot;,
                                                               gravity: 1,
                                                               charge: -30,
                                                               link_strength: 1,
                                                               friction: 0.9,
                                                               link_distance: 20,
                                                               maximum_stroke_width: 2,
                                                               minimum_stroke_width: 1,
                                                               nominal_stroke_width: 1,
                                                               maximum_radius: 10,
                                                               minimum_radius: 1,
                                                               nominal_radius: 5,
                                                            };
    function NetworkXD3ForceLayoutPlugin(fig, props){
        mpld3.Plugin.call(this, fig, props);
    };
    var color = d3.scaleOrdinal(d3.schemeCategory10);
    NetworkXD3ForceLayoutPlugin.prototype.zoomScaleProp = function (nominal_prop, minimum_prop, maximum_prop) {
        var zoom = this.ax.zoom;
        scalerFunction = function() {
            var prop = nominal_prop;
            if (nominal_prop*zoom.scale()&gt;maximum_prop) prop = maximum_prop/zoom.scale();
            if (nominal_prop*zoom.scale()&lt;minimum_prop) prop = minimum_prop/zoom.scale();
            return prop
        }
        return scalerFunction;
    }
    NetworkXD3ForceLayoutPlugin.prototype.setupDefaults = function () {
        this.zoomScaleStroke = this.zoomScaleProp(this.props.nominal_stroke_width,
                                                  this.props.minimum_stroke_width,
                                                  this.props.maximum_stroke_width)
        this.zoomScaleRadius = this.zoomScaleProp(this.props.nominal_radius,
                                                  this.props.minimum_radius,
                                                  this.props.maximum_radius)
    }
    NetworkXD3ForceLayoutPlugin.prototype.zoomed = function() {
        this.tick()
    }
    NetworkXD3ForceLayoutPlugin.prototype.draw = function(){
        plugin = this
        DEFAULT_NODE_SIZE = this.props.nominal_radius;
        var height = this.fig.height
        var width = this.fig.width
        var graph = this.props.graph
        var gravity = this.props.gravity.toFixed()
        var charge = this.props.charge.toFixed()
        var link_distance = this.props.link_distance.toFixed()
        var link_strength = this.props.link_strength.toFixed()
        var friction = this.props.friction.toFixed()
        this.ax = mpld3.get_element(this.props.ax_id, this.fig)
        var ax = this.ax;
        this.ax.elements.push(this)
        ax_obj = this.ax;
        var width = d3.max(ax.x.range()) - d3.min(ax.x.range()),
            height = d3.max(ax.y.range()) - d3.min(ax.y.range());
        var color = d3.scaleOrdinal(d3.schemeCategory10);
        this.xScale = d3.scaleLinear().domain([0, 1]).range([0, width]) // ax.x;
        this.yScale = d3.scaleLinear().domain([0, 1]).range([height, 0]) // ax.y;
        this.force = d3.forceSimulation();
        this.svg = this.ax.axes.append(&quot;g&quot;);
        for(var i = 0; i &lt; graph.nodes.length; i++){
            var node = graph.nodes[i];
            if (node.hasOwnProperty(&#39;x&#39;)) {
                node.x = this.ax.x(node.x);
            }
            if (node.hasOwnProperty(&#39;y&#39;)) {
                node.y = this.ax.y(node.y);
            }
        }
        this.force
            .force(&quot;link&quot;,
                d3.forceLink()
                    .id(function(d) { return d.index })
                    .strength(link_strength)
                    .distance(link_distance)
            )
            .force(&quot;collide&quot;, d3.forceCollide(function(d){return d.r + 8 }).iterations(16))
            .force(&quot;charge&quot;, d3.forceManyBody().strength(charge))
            .force(&quot;center&quot;, d3.forceCenter(width / 2, height / 2))
            .force(&quot;y&quot;, d3.forceY(0))
            .force(&quot;x&quot;, d3.forceX(0));
        this.force.nodes(graph.nodes);
        this.force.force(&quot;link&quot;).links(graph.links);
        this.link = this.svg.selectAll(&quot;.link&quot;)
            .data(graph.links)
          .enter().append(&quot;line&quot;)
            .attr(&quot;class&quot;, &quot;link&quot;)
            .attr(&quot;stroke&quot;, &quot;black&quot;)
            .style(&quot;stroke-width&quot;, function (d) { return Math.sqrt(d.value); });
        this.node = this.svg.selectAll(&quot;.node&quot;)
            .data(graph.nodes)
          .enter().append(&quot;circle&quot;)
            .attr(&quot;class&quot;, &quot;node&quot;)
            .attr(&quot;r&quot;, function(d) {return d.size === undefined ? DEFAULT_NODE_SIZE : d.size ;})
            .style(&quot;fill&quot;, function (d) { return color(d); });
        this.node.append(&quot;title&quot;)
            .text(function (d) { return d.name; });
        this.force.on(&quot;tick&quot;, this.tick.bind(this));
        this.setupDefaults()
    };
    NetworkXD3ForceLayoutPlugin.prototype.tick = function() {
        this.link.attr(&quot;x1&quot;, function (d) { return this.ax.x(this.xScale.invert(d.source.x)); }.bind(this))
                 .attr(&quot;y1&quot;, function (d) { return this.ax.y(this.yScale.invert(d.source.y)); }.bind(this))
                 .attr(&quot;x2&quot;, function (d) { return this.ax.x(this.xScale.invert(d.target.x)); }.bind(this))
                 .attr(&quot;y2&quot;, function (d) { return this.ax.y(this.yScale.invert(d.target.y)); }.bind(this));
        this.node.attr(&quot;transform&quot;, function (d) {
            return &quot;translate(&quot; + this.ax.x(this.xScale.invert(d.x)) + &quot;,&quot; + this.ax.y(this.yScale.invert(d.y)) + &quot;)&quot;;
            }.bind(this)
        );
    }
    &quot;&quot;&quot;

    def __init__(self, graph, ax,
                 gravity=1,
                 link_distance=20,
                 charge=-30,
                 node_size=5,
                 link_strength=1,
                 friction=0.9):

        self.dict_ = {&quot;type&quot;: &quot;networkxd3forcelayout&quot;,
                      &quot;graph&quot;: graph,
                      &quot;ax_id&quot;: mpld3.utils.get_id(ax),
                      &quot;gravity&quot;: gravity,
                      &quot;charge&quot;: charge,
                      &quot;friction&quot;: friction,
                      &quot;link_distance&quot;: link_distance,
                      &quot;link_strength&quot;: link_strength,
                      &quot;nominal_radius&quot;: node_size}

import matplotlib.pyplot as plt

fig, axs = plt.subplots(1, 1, figsize=(10, 10))
ax = axs

mpld3.plugins.connect(fig, NetworkXD3ForceLayout(graph,
                                                 ax,
                                                 gravity=.5,
                                                 link_distance=20,
                                                 charge=-600,
                                                 friction=1
                                                )
                     )

mpld3.show()
</pre></div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="custom_plugin.html">&lt;no title&gt;</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="heart_path.html">&lt;no title&gt;</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, mpld3 developers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.0.
    </div>
  </body>
</html>